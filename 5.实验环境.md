由于不同方向所需要的实验环境大不相同，这里仅对一些常见工具及个人使用心得进行记录。此外，推荐阅读或观看[《计算机教育中缺失的一课》](https://missing-semester-cn.github.io/)

在实验室服务器上，为了稳定性考虑，一般会给学生开docker权限，让学生自己在容器中进行实验，此时推荐使用的工具包括：

- MobaXterm：功能丰富，常见功能基本免费，用于管理和连接远程服务器，也可以进行ssh端口转发
- vscode：唯一真神，开源IDE，包含丰富的插件，适合远程开发和实验（注意如果想使用vscode直接ssh连接到docker容器，建议运行容器时的命令要加入端口转发的参数，并且注意手动开启SSH程序）。此外，学生可以申请GitHub学生会员包，获得GitHub Copilot插件中的多个模型使用额度。
- conda：管理python环境，个人觉得miniforge即可，对于几个工具的区别可以查看以下[文章](https://zhuanlan.zhihu.com/p/674145143)

```bash
//虚拟环境一览
conda env list
//创建新环境
conda create -n <env_name> python=<version>
//激活/退出虚拟环境
conda activate <env_name>
conda deactivate
```

- rsync：在有ssh登录能力下的文件/文件夹传输文具。python3 -m http.server 12771命令可以开启http服务，也可以用于文件传输（使用wget命令或者浏览器下载）。nc 也可以来传递文件，不过这种传输文件的手法在渗透测试的场景下更常见。

```bash
//上传、下载远程主机的目录/文件
rsync -avz /home/user/project/ user@192.168.1.10:/data/project/
rsync -avz user@192.168.1.10:/data/logs/ /home/user/logs/
//额外常用参数
//排除目录or文件，支持正则
--exclude '*.log'
//指定ssh端口
-e "ssh -p 2222"
```

- tmux：terminal管理工具，可以切分命令行界面或者后台跑任务（防止ssh断开导致实验任务中段）

```bash
//创建一个命名会话
tmux new -s <name>
//列出会话
tmux ls
//连接到某会话
tmux attach -t <name>
//ctrl+b相当于命令模式
Ctrl+b %	垂直分割窗口（左右）
Ctrl+b "	水平分割窗口（上下）
Ctrl+b x	关闭当前面板
Ctrl+b ↑/↓/←/→	使用方向键切换面板
//tmux开启鼠标滚动
//临时开启
tmux set -g mouse on
//长期开启可修改~/.tmux.conf文件添加：
set -g mouse on
```

- git加速代理(https://github.akams.cn/)：可以将github链接复制到网页中，可以直接下载or复制加速下载的命令，注意这个方法可能有潜在风险，毕竟要走别人的中转，虽然基本都是靠CloudFlare。
- Git代码管理：常用命令可以直接大模型生成，但要注意如果涉及到协作过程中分支管理的情况，何时merge到主分支，要格外注意。
- docker代理：涉及到两个环节，镜像加速器和

```bash
//许多国内的云服务商都提供了Docker Hub镜像加速器的功能，目前华为云、腾讯云、阿里云均可在登录后获取到私有加速镜像源
sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.json <<-'EOF'
{
    "registry-mirrors": [
        "https://docker.m.daocloud.io"
    ]
}
EOF
sudo systemctl daemon-reload
sudo systemctl restart docker

//https://docs.docker.com/config/daemon/systemd/
//设置环境变量代理的方法并不能使得 docker pull成功拉取镜像（实际去拉取镜像的是daemon），具体配置过程可参考官方文档，同局域网下可使用clash或v2ray局域网共享的端口，这里附上摘要：
sudo mkdir -p /etc/systemd/system/docker.service.d
sudo tee /etc/systemd/system/docker.service.d/http-proxy.conf <<-'EOF'
[Service]
Environment="HTTP_PROXY=http://proxy.example.com:3128"
Environment="HTTPS_PROXY=http://proxy.example.com:3129"
EOF
sudo systemctl daemon-reload
sudo systemctl restart docker
```
- 命令行代理：[proxychains](https://github.com/haad/proxychains), [gg](https://github.com/mzz2017/gg)；区别在于proxychains是通过协议和端口来配置的，而gg支持一些从大家自己购买的常见订阅链接来获取节点列表。
```bash
//proxychains不同系统的安装命令不一样
//一般修改/etc/proxychains.conf文件的最后一行即可
proxychains curl www.google.com

//gg常用命令安装与订阅写入
sudo sh -c "$(curl -L https://github.com/mzz2017/gg/raw/main/release/go.sh)"
gg config -w subscription='https://example.com/path/to/sub'
//之后使用gg拼接到你的命令最前面即可
gg curl www.google.com
```
- [jvms](https://github.com/ystyle/jvms)：Windows平台切换Java工具
最后需要强调的是实验机器的安全性，最起码要避免弱密码，建议使用私钥登录方式，本地生成、保管好公私钥对，讲公钥上传到实验机器上，可参考以下两个连接：

- [设置 SSH 通过密钥登录](https://www.runoob.com/w3cnote/set-ssh-login-key.html)
- [设置安全的Linux服务器](https://github.com/imthenachoman/How-To-Secure-A-Linux-Server)


## 参考链接

[docker 设置代理，以及国内加速镜像设置](https://neucrack.com/p/286)

[设置 SSH 通过密钥登录](https://www.runoob.com/w3cnote/set-ssh-login-key.html)

[设置安全的Linux服务器](https://github.com/imthenachoman/How-To-Secure-A-Linux-Server)
